<nav class="nav">
    <ul class="nav-list">
        <li>
            <mat-form-field appearance="fill" class="nav-select">
                <mat-select (selectionChange)="handleScaleChange()" [formControl]="scaleControl">
                  <mat-option *ngFor="let val of scaleSelectList" [value]="val">{{val*100}}%</mat-option>
                </mat-select>
            </mat-form-field>
        </li>
        <li class="line">
            <span (click)="zoomIn()" class="icon"><i class="fas fa-search-plus"></i></span>
        </li>
        <li>
            <span (click)="zoomOut()" class="icon"><i class="fas fa-search-minus"></i></span>
        </li>
        <li class="line">
            <span (click)="undo()" class="icon"><i class="fas fa-undo-alt"></i></span>
        </li>
        <li>
            <span (click)="redo()" class="icon"><i class="fas fa-redo"></i></span>
        </li>
        <li class="line">
            <span (click)="copyItem()" class="icon"><i class="far fa-copy"></i></span>
        </li>
        <li>
            <span (click)="pasteItem()" class="icon"><i class="fas fa-paste"></i></span>
        </li>
        <li class="line">
            <span (click)="delete()" class="icon"><i class="fas fa-trash"></i></span>
        </li>
    </ul>
</nav>
<div #board class="board infocus" id="board" (mousedown.self)="handleMousedown( $event )" (click.self)="handleSelfClick()" (click)="handleClick($event)" (mousewheel.self)="scroll($event)">
    <h1 class="board-bg-title">Systemizer</h1>
    <template #conn></template>
    <svg class="svg-canvas" id="svg-canvas" >
    </svg>
</div>
<div class="backdrop-centralized loading" *ngIf="isLoading">
    Loading...
    <img src="./assets/logo.svg">
</div>
<div class="autosave" *ngIf="autosaving">
    <i class="far fa-save"></i>
</div>
<div class="backdrop-centralized saving" *ngIf="isSaving" (click.self)="isSaving = false">
    <div class="saving-inner">
        <div class="name">
            <label>File name</label>
            <input spellcheck="false" required [(ngModel)]="saveFileName" placeholder="File name">
        </div>
        <button class="btn-purple" (click)="saveJson()">Download</button>
        <button class="close" (click)="isSaving = false">×</button>
    </div>
</div>
<div class="backdrop-centralized" [style.display]="showSavedBoards ? 'flex' : 'none'" (click.self)="closeSavedBoards()">
    <div class="saved-boards">
        <button class="close" (click)="closeSavedBoards()">×</button>
        <div class="saved-boards-top">
            <h3 class="title">Your saved systems</h3>
            <span class="note">Note that these systems are saved in your browser and aren't permanent!</span>
        </div>
        <div class="saved-boards-main-container">
            <div class="saved-boards-main" #savedBoardsRef>
                <span *ngIf="savedBoards == null || savedBoards.length == 0">You don't have any saved boards...</span>
            </div>
            <div class="saved-boards-side">
                <span class="selected-title">{{ selectedSavedBoard == null ? "Select a board" : selectedSavedBoard.title }}</span>
                <div class="selected-info">
                    <span *ngIf="selectedSavedBoard != null"><span class="highlight">{{ selectedSavedBoard.board.length }}</span> component{{ selectedSavedBoard.board.length == 1 ? "" : "s" }}</span>
                </div>
                <div class="selected-actions">
                    <button (click)="deleteSelectedSavedBoard()" [disabled]="selectedSavedBoard == null" class="delete">Delete</button>
                    <button (click)="loadSelectedSavedBoard()" [disabled]="selectedSavedBoard == null" class="load">Load</button>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="saved-boards-popup" [style.transform]="showSavedBoardsPopup ? 'translateX(0)' : 'translateX(calc(100% - 2em))' ">
    <span class="hidden">{{ savedBoards.length }}</span>
    <div class="show" >
        <span class="text">You have {{ savedBoards.length }} saved system<span *ngIf="savedBoards.length != 1">s</span></span>
        <button (click)="openSavedBoards()">Show all</button>
    </div>
</div>

